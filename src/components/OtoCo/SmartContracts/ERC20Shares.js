const contractABI = [
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "symbol",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "supply",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "series",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "transferSeriesOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "otocoPlugin",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];

const contractBytecode = {
	"object": "60c0604052600560808190527f746f6b656e00000000000000000000000000000000000000000000000000000060a0908152620000409160019190620002bb565b503480156200004e57600080fd5b506040516200116a3803806200116a833981810160405260808110156200007457600080fd5b81019080805160405193929190846401000000008211156200009557600080fd5b908301906020820185811115620000ab57600080fd5b8251640100000000811182820188101715620000c657600080fd5b82525081516020918201929091019080838360005b83811015620000f5578181015183820152602001620000db565b50505050905090810190601f168015620001235780820380516001836020036101000a031916815260200191505b50604052602001805160405193929190846401000000008211156200014757600080fd5b9083019060208201858111156200015d57600080fd5b82516401000000008111828201881017156200017857600080fd5b82525081516020918201929091019080838360005b83811015620001a75781810151838201526020016200018d565b50505050905090810190601f168015620001d55780820380516001836020036101000a031916815260200191505b506040908152602082015191015190925090506000620001f4620002b7565b600080546001600160a01b0319166001600160a01b0383169081178255604051929350917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350835162000253906005906020870190620002bb565b50825162000269906006906020860190620002bb565b506007805460ff1916815560048390553360009081526002602052604090209290925581546001600160a01b039190911661010002610100600160a81b031990911617905550620003579050565b3390565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620002fe57805160ff19168380011785556200032e565b828001600101855582156200032e579182015b828111156200032e57825182559160200191906001019062000311565b506200033c92915062000340565b5090565b5b808211156200033c576000815560010162000341565b610e0380620003676000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c806370a0823111610097578063a457c2d711610066578063a457c2d7146102c8578063a9059cbb146102f4578063dd62ed3e14610320578063f2fde38b1461034e57610100565b806370a082311461026e578063715018a6146102945780638da5cb5b1461029c57806395d89b41146102c057610100565b8063313ce567116100d3578063313ce567146102125780633244df4c146102305780633950935114610238578063540e03611461026457610100565b806306fdde0314610105578063095ea7b31461018257806318160ddd146101c257806323b872dd146101dc575b600080fd5b61010d610374565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561014757818101518382015260200161012f565b50505050905090810190601f1680156101745780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101ae6004803603604081101561019857600080fd5b506001600160a01b03813516906020013561040a565b604080519115158252519081900360200190f35b6101ca610427565b60408051918252519081900360200190f35b6101ae600480360360608110156101f257600080fd5b506001600160a01b0381358116916020810135909116906040013561042d565b61021a6104b4565b6040805160ff9092168252519081900360200190f35b61010d6104bd565b6101ae6004803603604081101561024e57600080fd5b506001600160a01b03813516906020013561054a565b61026c610598565b005b6101ca6004803603602081101561028457600080fd5b50356001600160a01b031661066c565b61026c610687565b6102a461073b565b604080516001600160a01b039092168252519081900360200190f35b61010d61074a565b6101ae600480360360408110156102de57600080fd5b506001600160a01b0381351690602001356107ab565b6101ae6004803603604081101561030a57600080fd5b506001600160a01b038135169060200135610813565b6101ca6004803603604081101561033657600080fd5b506001600160a01b0381358116916020013516610827565b61026c6004803603602081101561036457600080fd5b50356001600160a01b0316610852565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104005780601f106103d557610100808354040283529160200191610400565b820191906000526020600020905b8154815290600101906020018083116103e357829003601f168201915b5050505050905090565b600061041e61041761095c565b8484610960565b50600192915050565b60045490565b600061043a848484610a4c565b6104aa8461044661095c565b6104a585604051806060016040528060288152602001610d38602891396001600160a01b038a1660009081526003602052604081209061048461095c565b6001600160a01b031681526020810191909152604001600020549190610ba9565b610960565b5060019392505050565b60075460ff1690565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105425780601f1061051757610100808354040283529160200191610542565b820191906000526020600020905b81548152906001019060200180831161052557829003601f168201915b505050505081565b600061041e61055761095c565b846104a5856003600061056861095c565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610c40565b6105a061095c565b6000546001600160a01b03908116911614610602576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6007546040805163f2fde38b60e01b815233600482015290516101009092046001600160a01b03169163f2fde38b9160248082019260009290919082900301818387803b15801561065257600080fd5b505af1158015610666573d6000803e3d6000fd5b50505050565b6001600160a01b031660009081526002602052604090205490565b61068f61095c565b6000546001600160a01b039081169116146106f1576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031690565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104005780601f106103d557610100808354040283529160200191610400565b600061041e6107b861095c565b846104a585604051806060016040528060258152602001610da960259139600360006107e261095c565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610ba9565b600061041e61082061095c565b8484610a4c565b6001600160a01b03918216600090815260036020908152604080832093909416825291909152205490565b61085a61095c565b6000546001600160a01b039081169116146108bc576040805162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015290519081900360640190fd5b6001600160a01b0381166109015760405162461bcd60e51b8152600401808060200182810382526026815260200180610cca6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b3390565b6001600160a01b0383166109a55760405162461bcd60e51b8152600401808060200182810382526024815260200180610d856024913960400191505060405180910390fd5b6001600160a01b0382166109ea5760405162461bcd60e51b8152600401808060200182810382526022815260200180610cf06022913960400191505060405180910390fd5b6001600160a01b03808416600081815260036020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610a915760405162461bcd60e51b8152600401808060200182810382526025815260200180610d606025913960400191505060405180910390fd5b6001600160a01b038216610ad65760405162461bcd60e51b8152600401808060200182810382526023815260200180610ca76023913960400191505060405180910390fd5b610ae1838383610ca1565b610b1e81604051806060016040528060268152602001610d12602691396001600160a01b0386166000908152600260205260409020549190610ba9565b6001600160a01b038085166000908152600260205260408082209390935590841681522054610b4d9082610c40565b6001600160a01b0380841660008181526002602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610c385760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610bfd578181015183820152602001610be5565b50505050905090810190601f168015610c2a5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610c9a576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b50505056fe45524332303a207472616e7366657220746f20746865207a65726f20616464726573734f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa2646970667358221220e4cac5a3b9d7d7e65d1e6f0a364f6f694e11969cd1806d334a663c66160557f264736f6c634300060c0033"
}

export default {
    abi: contractABI,
	bytecode: contractBytecode,
	getContract: function(address) {
        return new web3.eth.Contract(this.abi, address) 
    },
    deployContract: function(network = "kovan", from, name, symbol, shares, series) {
        if (!from) return;
        const myContract = new web3.eth.Contract(this.abi);
        return new Promise( (resolve, reject) => {
            myContract.deploy({data:this.bytecode.object,arguments:[
                name,
                symbol,
                shares,
                series
            ]}).send({
                from: from,
                gas: 1000000
            },(err,res) => {
                if(err){
                    reject(err);
                }
                if(res){
                    resolve(res);
                }
            })
        })
    },
}